{"version":3,"sources":["components/Publication/Publication.module.css","components/Counter/Counter.module.css","components/Reader/Reader.module.css","components/Publication/Publication.js","components/Counter/Counter.js","components/Controls/Controls.js","components/Reader/Reader.js","components/App.js","index.js","components/Controls/Controls.module.css"],"names":["module","exports","Publication","publication","key","id","className","s","title","text","Counter","currentValue","total","counter","Controls","disabledPrev","disabledNext","handlePrevPub","handleNextPub","btnPrevClass","disabled","button","btnNextClass","controls","type","onClick","INITIAL_STATE","publications","length","getItemFromLocation","location","queryString","parse","search","item","Reader","state","setState","prevState","this","props","history","searchItem","push","prevProps","containerReader","Component","App","path","component","to","ReactDOM","render","document","getElementById"],"mappings":"4IACAA,EAAOC,QAAU,CAAC,YAAc,iCAAiC,MAAQ,2BAA2B,KAAO,4B,mBCA3GD,EAAOC,QAAU,CAAC,QAAU,2B,mBCA5BD,EAAOC,QAAU,CAAC,gBAAkB,kC,6xgBCkBrBC,EAfK,SAAC,GAAD,IAAGC,EAAH,EAAGA,YAAH,OAClB,6BAASC,IAAKD,EAAYE,GAAIC,UAAWC,IAAEJ,aACzC,wBAAIG,UAAWC,IAAEC,OAAQL,EAAYK,OACrC,uBAAGF,UAAWC,IAAEE,MAAON,EAAYM,Q,iBCQxBC,EAXC,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,MAAjB,OACd,uBAAGN,UAAWC,IAAEM,SACbF,EADH,MACoBC,I,gBCyBPE,EA3BE,SAAC,GAKX,IAJLC,EAII,EAJJA,aACAC,EAGI,EAHJA,aACAC,EAEI,EAFJA,cACAC,EACI,EADJA,cAEMC,EAAeJ,EAAeR,IAAEa,SAAWb,IAAEc,OAC7CC,EAAeN,EAAeT,IAAEa,SAAWb,IAAEc,OACnD,OACE,6BAASf,UAAWC,IAAEgB,UACpB,4BAAQC,KAAK,SAASC,QAASR,EAAeX,UAAWa,GAAzD,kCAGA,4BAAQK,KAAK,SAASC,QAASP,EAAeZ,UAAWgB,GAAzD,0C,ilBCRN,IAAMI,EAAgB,CACpBvB,YAAawB,EAAa,GAC1Bf,MAAOe,EAAaC,OACpBjB,aAAc,EACdI,cAAc,EACdC,cAAc,GAGVa,EAAsB,SAAAC,GAAQ,OAAIC,IAAYC,MAAMF,EAASG,QAAQC,MAEtDC,E,2MAMnBC,M,KAAaV,G,EA8CbT,cAAgB,WACd,EAAKoB,UAAS,SAAAC,GAAS,MAAK,CAC1BnC,YAAawB,EAAaW,EAAU3B,aAAe,GACnDA,aAAc2B,EAAU3B,aAAe,EACvCI,aAAyC,IAA3BuB,EAAU3B,eAAuB2B,EAAUvB,aACzDC,aACEsB,EAAU3B,eAAiBgB,EAAaC,SACvCU,EAAUtB,kB,EAIjBE,cAAgB,WACd,EAAKmB,UAAS,SAAAC,GAAS,MAAK,CAC1BnC,YAAawB,EAAaW,EAAU3B,cACpCA,aAAc2B,EAAU3B,aAAe,EACvCI,aAAyC,IAA3BuB,EAAU3B,eAAuB2B,EAAUvB,aACzDC,aACEsB,EAAU3B,eAAiBgB,EAAaC,OAAS,IAChDU,EAAUtB,kB,6NA7DqBuB,KAAKC,M,uBAAjCC,E,EAAAA,QAASX,E,EAAAA,S,SACQD,EAAoBC,G,eAAvCY,E,SAEJH,KAAKF,SAAS,CACZlC,YAAawB,GAAce,EAAa,GACxC/B,cAAe+B,IAGC,KAAfA,EACHH,KAAKF,SAAS,CACZtB,cAAc,EACdC,cAAc,KAEN0B,IAAef,EAAaC,OACtCW,KAAKF,SAAS,CACZtB,cAAc,EACdC,cAAc,KAEN0B,EAAa,IAAMA,EAAaf,EAAaC,QACvDW,KAAKF,SAAS,CACZtB,cAAc,EACdC,cAAc,I,UAGauB,KAAKH,M,wBAA5BzB,E,EAAAA,a,UACF8B,EAAQE,KAAR,KACDb,EADC,CAEJG,OAAO,QAAD,OAAUtB,M,gJAIDiC,GAAY,IACrBjC,EAAiB4B,KAAKH,MAAtBzB,aADoB,EAEE4B,KAAKC,MAA3BC,EAFoB,EAEpBA,QAASX,EAFW,EAEXA,UACID,EAAoBe,EAAUd,YAC7BnB,GACpB8B,EAAQE,KAAR,KACKb,EADL,CAEEG,OAAO,QAAD,OAAUtB,Q,+BA2BZ,IAAD,EAOH4B,KAAKH,MALPjC,EAFK,EAELA,YACAS,EAHK,EAGLA,MACAD,EAJK,EAILA,aACAI,EALK,EAKLA,aACAC,EANK,EAMLA,aAEF,OACE,yBAAKV,UAAWC,IAAEsC,iBAChB,kBAAC,EAAD,CAAa1C,YAAaA,IAC1B,kBAAC,EAAD,CAASQ,aAAcA,EAAcC,MAAOA,IAC5C,kBAAC,EAAD,CACEG,aAAcA,EACdC,aAAcA,EACdC,cAAesB,KAAKtB,cACpBC,cAAeqB,KAAKrB,qB,GA1FM4B,aCNrBC,MATf,WACE,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,UAAUC,UAAWd,IACjC,kBAAC,IAAD,CAAUe,GAAG,cCHnBC,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,U,kBCR1BtD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,OAAS,yBAAyB,SAAW,qD","file":"static/js/main.9056173f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__7ub1_\",\"title\":\"Publication_title__131qa\",\"text\":\"Publication_text__29jlt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__2d6O8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerReader\":\"Reader_containerReader__1jQjX\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Publication.module.css';\n\nconst Publication = ({ publication }) => (\n  <article key={publication.id} className={s.publication}>\n    <h2 className={s.title}>{publication.title}</h2>\n    <p className={s.text}>{publication.text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  publication: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Counter.module.css';\n\nconst Counter = ({ currentValue, total }) => (\n  <p className={s.counter}>\n    {currentValue} / {total}\n  </p>\n);\n\nCounter.propTypes = {\n  currentValue: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Controls.module.css';\n\nconst Controls = ({\n  disabledPrev,\n  disabledNext,\n  handlePrevPub,\n  handleNextPub,\n}) => {\n  const btnPrevClass = disabledPrev ? s.disabled : s.button;\n  const btnNextClass = disabledNext ? s.disabled : s.button;\n  return (\n    <section className={s.controls}>\n      <button type=\"button\" onClick={handlePrevPub} className={btnPrevClass}>\n        Назад\n      </button>\n      <button type=\"button\" onClick={handleNextPub} className={btnNextClass}>\n        Вперед\n      </button>\n    </section>\n  );\n};\n\nControls.propTypes = {\n  disabledPrev: PropTypes.bool.isRequired,\n  disabledNext: PropTypes.bool.isRequired,\n  handlePrevPub: PropTypes.func.isRequired,\n  handleNextPub: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import React, { Component } from 'react';\nimport queryString from 'query-string';\nimport PropTypes from 'prop-types';\nimport Publication from '../Publication/Publication';\nimport Counter from '../Counter/Counter';\nimport Controls from '../Controls/Controls';\nimport publications from '../publications';\nimport s from './Reader.module.css';\n\nconst INITIAL_STATE = {\n  publication: publications[0],\n  total: publications.length,\n  currentValue: 1,\n  disabledPrev: true,\n  disabledNext: false,\n};\n\nconst getItemFromLocation = location => queryString.parse(location.search).item;\n\nexport default class Reader extends Component {\n  static propTypes = {\n    history: PropTypes.shape().isRequired,\n    location: PropTypes.shape().isRequired,\n  };\n\n  state = { ...INITIAL_STATE };\n\n  async componentDidMount() {\n    const { history, location } = await this.props;\n    const searchItem = await getItemFromLocation(location);\n    if (+searchItem) {\n      this.setState({\n        publication: publications[+searchItem - 1],\n        currentValue: +searchItem,\n      });\n    }\n    if (+searchItem === 1) {\n      this.setState({\n        disabledPrev: true,\n        disabledNext: false,\n      });\n    } else if (+searchItem === publications.length) {\n      this.setState({\n        disabledPrev: false,\n        disabledNext: true,\n      });\n    } else if (+searchItem > 1 && +searchItem < publications.length) {\n      this.setState({\n        disabledPrev: false,\n        disabledNext: false,\n      });\n    }\n    const { currentValue } = await this.state;\n    await history.push({\n      ...location,\n      search: `item=${currentValue}`,\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const { currentValue } = this.state;\n    const { history, location } = this.props;\n    const prevPropItem = getItemFromLocation(prevProps.location);\n    if (+prevPropItem !== currentValue) {\n      history.push({\n        ...location,\n        search: `item=${currentValue}`,\n      });\n    }\n  }\n\n  handlePrevPub = () => {\n    this.setState(prevState => ({\n      publication: publications[prevState.currentValue - 2],\n      currentValue: prevState.currentValue - 1,\n      disabledPrev: prevState.currentValue === 2 && !prevState.disabledPrev,\n      disabledNext:\n        prevState.currentValue === publications.length &&\n        !prevState.disabledNext,\n    }));\n  };\n\n  handleNextPub = () => {\n    this.setState(prevState => ({\n      publication: publications[prevState.currentValue],\n      currentValue: prevState.currentValue + 1,\n      disabledPrev: prevState.currentValue === 1 && !prevState.disabledPrev,\n      disabledNext:\n        prevState.currentValue === publications.length - 1 &&\n        !prevState.disabledNext,\n    }));\n  };\n\n  render() {\n    const {\n      publication,\n      total,\n      currentValue,\n      disabledPrev,\n      disabledNext,\n    } = this.state;\n    return (\n      <div className={s.containerReader}>\n        <Publication publication={publication} />\n        <Counter currentValue={currentValue} total={total} />\n        <Controls\n          disabledPrev={disabledPrev}\n          disabledNext={disabledNext}\n          handlePrevPub={this.handlePrevPub}\n          handleNextPub={this.handleNextPub}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Reader from './Reader/Reader';\n\nfunction App() {\n  return (\n    <Switch>\n      <Route path=\"/reader\" component={Reader} />\n      <Redirect to=\"/reader\" />\n    </Switch>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './components/App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__BY2-d\",\"button\":\"Controls_button__31jsY\",\"disabled\":\"Controls_disabled__5h-7W Controls_button__31jsY\"};"],"sourceRoot":""}